---
interface Props {
  href: string;
  category?: string;
  label?: string;
  class?: string;
  [key: string]: any;
}

const {
  href,
  category = 'UNCATEGORISED',
  label = 'UNTAGGED',
  class: className = '',
  ...rest
} = Astro.props;

// Normalise for GA: UPPER_SNAKE_CASE
const normalisedCategory = category.trim().toUpperCase().replace(/\s+/g, '_');
const normalisedLabel = label.trim().toUpperCase().replace(/\s+/g, '_');
const gaValue = `${normalisedCategory}_${normalisedLabel}`;
---

<a
  href={href}
  class={className}
  data-ga4-cta={gaValue}
  {...rest}
>
  <slot />
</a>
